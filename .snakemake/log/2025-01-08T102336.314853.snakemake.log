Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	align
	1	all
	1	ancestral
	1	export
	1	generate_colors
	1	refine
	1	traits
	1	translate
	1	tree
	9

[Wed Jan  8 10:23:36 2025]
rule align:
    input: data/sequences.fasta, config/WNV_reference.gb
    output: results/aligned.fasta
    log: logs/align.log
    jobid: 8

[Wed Jan  8 10:39:17 2025]
Finished job 8.
1 of 9 steps (11%) done

[Wed Jan  8 10:39:17 2025]
rule tree:
    input: results/aligned.fasta
    output: results/tree_raw.nwk
    log: logs/tree.log
    jobid: 7

[Wed Jan  8 14:35:40 2025]
Finished job 7.
2 of 9 steps (22%) done

[Wed Jan  8 14:35:40 2025]
rule refine:
    input: results/tree_raw.nwk, results/aligned.fasta, data/updated_metadata.tsv
    output: results/tree.nwk, results/branch_lengths.json
    log: logs/refine.log
    jobid: 2

[Wed Jan  8 14:53:17 2025]
Finished job 2.
3 of 9 steps (33%) done

[Wed Jan  8 14:53:17 2025]
rule ancestral:
    input: results/tree.nwk, results/aligned.fasta
    output: results/nt_muts.json
    log: logs/ancestral.log
    jobid: 4

[Wed Jan  8 14:54:10 2025]
Finished job 4.
4 of 9 steps (44%) done

[Wed Jan  8 14:54:10 2025]
rule translate:
    input: results/tree.nwk, results/nt_muts.json, config/WNV_reference.gb
    output: results/aa_muts.json
    log: logs/translate.log
    jobid: 5

[Wed Jan  8 14:54:16 2025]
Finished job 5.
5 of 9 steps (56%) done

[Wed Jan  8 14:54:16 2025]
rule traits:
    input: results/tree.nwk, data/updated_metadata.tsv
    output: results/traits.json
    log: logs/traits.log
    jobid: 3

[Wed Jan  8 14:54:48 2025]
Finished job 3.
6 of 9 steps (67%) done

[Wed Jan  8 14:54:48 2025]
rule generate_colors:
    input: config/colors_clean.py, data/updated_metadata.tsv
    output: results/colors.tsv
    log: logs/generate_colors.log
    jobid: 6

[Wed Jan  8 14:54:49 2025]
Error in rule generate_colors:
    jobid: 6
    output: results/colors.tsv
    log: logs/generate_colors.log (check log file(s) for error message)
    shell:
        
        python config/colors_clean.py data/updated_metadata.tsv results/colors.tsv 2> logs/generate_colors.log
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job generate_colors since they might be corrupted:
results/colors.tsv
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/fauverlab/nextstrain/WNV_build_test/.snakemake/log/2025-01-08T102336.314853.snakemake.log
