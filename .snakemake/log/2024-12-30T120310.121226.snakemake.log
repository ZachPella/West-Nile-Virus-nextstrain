Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	ancestral
	1	export
	1	refine
	1	traits
	1	translate
	1	tree
	7

[Mon Dec 30 12:03:10 2024]
rule tree:
    input: results/aligned.fasta
    output: results/tree_raw.nwk
    log: logs/tree.log
    jobid: 6


        iqtree -s results/aligned.fasta -m GTR -redo -nt 1
        mv results/aligned.fasta.treefile results/tree_raw.nwk
        
[Mon Dec 30 13:54:58 2024]
Finished job 6.
1 of 7 steps (14%) done

[Mon Dec 30 13:54:58 2024]
rule refine:
    input: results/tree_raw.nwk, results/aligned.fasta, data/updated_metadata.tsv
    output: results/tree.nwk, results/branch_lengths.json
    log: logs/refine.log
    jobid: 2


        augur refine             --tree results/tree_raw.nwk             --alignment results/aligned.fasta             --metadata data/updated_metadata.tsv             --output-tree results/tree.nwk             --output-node-data results/branch_lengths.json             --timetree             --coalescent opt             --date-confidence             --date-inference marginal             --clock-filter-iqd 4 2> logs/refine.log
        
[Mon Dec 30 14:12:09 2024]
Finished job 2.
2 of 7 steps (29%) done

[Mon Dec 30 14:12:09 2024]
rule ancestral:
    input: results/tree.nwk, results/aligned.fasta
    output: results/nt_muts.json
    log: logs/ancestral.log
    jobid: 4


        augur ancestral             --tree results/tree.nwk             --alignment results/aligned.fasta             --output-node-data results/nt_muts.json             --inference joint 2> logs/ancestral.log
        
[Mon Dec 30 14:12:59 2024]
Finished job 4.
3 of 7 steps (43%) done

[Mon Dec 30 14:12:59 2024]
rule translate:
    input: results/tree.nwk, results/nt_muts.json, config/WNV_reference.gb
    output: results/aa_muts.json
    log: logs/translate.log
    jobid: 5


        augur translate             --tree results/tree.nwk             --ancestral-sequences results/nt_muts.json             --reference-sequence config/WNV_reference.gb             --output-node-data results/aa_muts.json 2> logs/translate.log
        
[Mon Dec 30 14:13:05 2024]
Finished job 5.
4 of 7 steps (57%) done

[Mon Dec 30 14:13:05 2024]
rule traits:
    input: results/tree.nwk, data/updated_metadata.tsv
    output: results/traits.json
    log: logs/traits.log
    jobid: 3


        augur traits             --tree results/tree.nwk             --metadata data/updated_metadata.tsv             --output-node-data results/traits.json             --columns region country             --confidence 2> logs/traits.log
        
[Mon Dec 30 14:13:06 2024]
Finished job 3.
5 of 7 steps (71%) done

[Mon Dec 30 14:13:06 2024]
rule export:
    input: results/tree.nwk, data/updated_metadata.tsv, results/branch_lengths.json, results/traits.json, results/nt_muts.json, results/aa_muts.json, config/colors.tsv, config/lat_longs.tsv, config/auspice_config.json
    output: results/WNV_NA.json
    log: logs/export.log
    jobid: 1


        augur export v2             --tree results/tree.nwk             --metadata data/updated_metadata.tsv             --node-data results/branch_lengths.json results/traits.json results/nt_muts.json results/aa_muts.json             --colors config/colors.tsv             --lat-longs config/lat_longs.tsv             --auspice-config config/auspice_config.json             --include-root-sequence             --output results/WNV_NA.json 2> logs/export.log
        
[Mon Dec 30 14:13:09 2024]
Finished job 1.
6 of 7 steps (86%) done

[Mon Dec 30 14:13:09 2024]
localrule all:
    input: results/WNV_NA.json
    jobid: 0

[Mon Dec 30 14:13:09 2024]
Finished job 0.
7 of 7 steps (100%) done
Complete log: /home/fauverlab/nextstrain/WNV_build_test/.snakemake/log/2024-12-30T120310.121226.snakemake.log
